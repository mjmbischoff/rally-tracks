{
  "settings": {
    "index.number_of_shards": {{ number_of_shards | default(3) }},
    "index.number_of_replicas": {{ number_of_replicas | default(0) }},
    "index.requests.cache.enable": false
  },
  "mappings": {
    "dynamic": "strict",
    "_source": {
      "enabled": {{ source_enabled | default(true) | tojson }}
    },
    "properties": {
      "@timestamp": {
        "format": "strict_date_optional_time||epoch_second",
        "type": "date"
      },
      "clientIp": {
        "type": "ip"
      },
      "domain" : {
        "properties": {
          "name": {
            "type": "keyword",
            "fields": {
              "text": {
                "type": "text"
              }
            }
          },
          "openPageRank": {
            "type": "float"
          }
        }
      }
    }
  }
}
